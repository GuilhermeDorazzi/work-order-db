-- MySQL Script generated by MySQL Workbench
-- Tue Jul 25 15:49:12 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema painel
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Table `TB_LAYOUT_EXCEL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `TB_LAYOUT_EXCEL` ;

CREATE TABLE IF NOT EXISTS `TB_LAYOUT_EXCEL` (
  `ID_LAYOUT` INT NOT NULL AUTO_INCREMENT,
  `NOME_LAYOUT` VARCHAR(500) NOT NULL,
  `FLG_ATIVO` VARCHAR(1) NOT NULL DEFAULT 'S',
  `TIPO_LAYOUT` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`ID_LAYOUT`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TB_COLUMN_LAYOUT_EXCEL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `TB_COLUMN_LAYOUT_EXCEL` ;

CREATE TABLE IF NOT EXISTS `TB_COLUMN_LAYOUT_EXCEL` (
  `ID_LAYOUT` INT NOT NULL,
  `ID_COLUMN` VARCHAR(50) NOT NULL,
  `NOME_COLUNA` VARCHAR(100) NOT NULL,
  `POSICAO` INT NOT NULL,
  `FLG_ATIVO` VARCHAR(1) NOT NULL DEFAULT 'S',
  PRIMARY KEY (`ID_LAYOUT`, `ID_COLUMN`),
  CONSTRAINT `fk_TB_ROWS_LAYOUT_EXCEL_TB_LAYOUT_EXCEL1`
    FOREIGN KEY (`ID_LAYOUT`)
    REFERENCES `TB_LAYOUT_EXCEL` (`ID_LAYOUT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TB_EMPRESA_LAYOUT_EXCEL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `TB_EMPRESA_LAYOUT_EXCEL` ;

CREATE TABLE IF NOT EXISTS `TB_EMPRESA_LAYOUT_EXCEL` (
  `COD_EMPRESA` INT NOT NULL,
  `ID_LAYOUT` INT NOT NULL,
  PRIMARY KEY (`COD_EMPRESA`, `ID_LAYOUT`),
  INDEX `fk_TB_EMPRESA_LAYOUT_EXCEL_TB_LAYOUT_EXCEL1_idx` (`ID_LAYOUT` ASC),
  CONSTRAINT `FK_TB_EMPRESA_LAYOUT_EXCEL_01`
    FOREIGN KEY (`COD_EMPRESA`)
    REFERENCES `TB_EMPRESA` (`COD_EMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_TB_EMPRESA_LAYOUT_EXCEL_02`
    FOREIGN KEY (`ID_LAYOUT`)
    REFERENCES `TB_LAYOUT_EXCEL` (`ID_LAYOUT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;
--
--
INSERT INTO tb_tipos_paginas (COD_TIPO, CLASSE_CSS_ICON, DESCRICAO, ORDEM_MENU) 
VALUES ('700', ' fa-table ', 'Excel configuration', '7');
--
INSERT INTO tb_paginas (COD_PAGINA, NOME_PAGINA, NOME_CONTROLADOR, FLG_ATIVO, COD_TIPO, FLG_TIPO_PAGINA, NIVEL_ACESSO) 
VALUES ('7001', 'Layouts Excel', 'EX_LayoutExcel', 'S', '700', 'M', '99');
--
INSERT INTO tb_paginas (COD_PAGINA, NOME_PAGINA, NOME_CONTROLADOR, FLG_ATIVO, COD_TIPO, FLG_TIPO_PAGINA, NIVEL_ACESSO) 
VALUES ('7002', 'Columns Layouts Excel', 'EX_ColumnLayoutExcel', 'S', '700', 'M', '99');
--
INSERT INTO tb_paginas (COD_PAGINA, NOME_PAGINA, NOME_CONTROLADOR, FLG_ATIVO, COD_TIPO, FLG_TIPO_PAGINA, NIVEL_ACESSO) 
VALUES ('7003', 'Company X Layout', 'EX_EmpresaLayoutExcel', 'S', '700', 'M', '99');
--

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
